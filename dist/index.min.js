/* GB11643 v0.0.0 - tonyc726 <zhujf620@gmail.com> */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var asyncGenerator=function(){function e(e){this.value=e}function t(t){function n(o,i){try{var u=t[o](i),a=u.value;a instanceof e?Promise.resolve(a.value).then(function(e){n("next",e)},function(e){n("throw",e)}):r(u.done?"return":"normal",u.value)}catch(e){r("throw",e)}}function r(e,t){switch(e){case"return":o.resolve({value:t,done:!0});break;case"throw":o.reject(t);break;default:o.resolve({value:t,done:!1})}(o=o.next)?n(o.key,o.arg):i=null}var o,i;this._invoke=function(e,t){return new Promise(function(r,u){var a={key:e,arg:t,resolve:r,reject:u,next:null};i?i=i.next=a:(o=i=a,n(e,t))})},"function"!=typeof t.return&&(this.return=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)},{wrap:function(e){return function(){return new t(e.apply(this,arguments))}},await:function(t){return new e(t)}}}(),classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),CHECK_CODE_MAP=["1","0","X","9","8","7","6","5","4","3","2"],WEIGHTING_MAP=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2,1],checkBaseFormat=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return/(^\d{15}$)|(^\d{17}(\d|X)$)/i.test(e)},makeYearToYYYY=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:19;return/^\d{15}$/.test(e)?""+e.substr(0,6)+t+e.substr(6,e.length-6):null},checkProvince=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e&&/^(11|12|13|14|15|21|22|23|31|32|33|34|35|36|37|41|42|43|44|45|46|50|51|52|53|54|61|62|63|64|65|71|81|82)/.test(e)},checkBirthday=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").match(/^(\d{6})(\d{4})(\d{2})(\d{2})(\d{3})([0-9]|X)$/);if(null===e)return!1;var t=(new Date).getFullYear()-new Date(e[2]+"/"+e[3]+"/"+e[4]).getFullYear();return t>=0&&t<=130},tranformEighteen=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],n=makeYearToYYYY(e,t);return null===n?null:""+n+getCheckCode(n)},getCheckCode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=/^\d{15}$/.test(e)?makeYearToYYYY(e).match(/(^\d{17})/):e.match(/(^\d{17})/);if(null===t)return null;var n=t[1].split("").reduce(function(e,t,n){return e+t*WEIGHTING_MAP[n]},0);return CHECK_CODE_MAP[n%11]},IDCard=function(){function e(t){if(classCallCheck(this,e),!checkBaseFormat(t))return console.error("id card format is error!"),!1;this.id=15===t.length?tranformEighteen(t):t,this.isVerified=checkProvince(t)&&checkBirthday(this.id)&&getCheckCode(this.id)===this.id.substr(17,1)}return createClass(e,[{key:"getMasterCode",value:function(){return this.isVerified?this.id.substr(0,17).toString():null}},{key:"getCheckCode",value:function(){return this.isVerified?this.id.substr(17,1).toString():null}}]),e}(),index=function(e){return new IDCard(e)};exports.tranformEighteen=tranformEighteen,exports.getCheckCode=getCheckCode,exports.default=index;
//# sourceMappingURL=index.min.js.map
