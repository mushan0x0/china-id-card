/* china-id-card v0.0.0 - tonyc726 <zhujf620@gmail.com> */
define(["exports"],function(t){"use strict";!function(){function t(t){this.value=t}function e(e){function n(i,o){try{var u=e[i](o),l=u.value;l instanceof t?Promise.resolve(l.value).then(function(t){n("next",t)},function(t){n("throw",t)}):r(u.done?"return":"normal",u.value)}catch(t){r("throw",t)}}function r(t,e){switch(t){case"return":i.resolve({value:e,done:!0});break;case"throw":i.reject(e);break;default:i.resolve({value:e,done:!1})}(i=i.next)?n(i.key,i.arg):o=null}var i,o;this._invoke=function(t,e){return new Promise(function(r,u){var l={key:t,arg:e,resolve:r,reject:u,next:null};o?o=o.next=l:(i=o=l,n(t,e))})},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)}}();var e=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},n=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),r=["1","0","X","9","8","7","6","5","4","3","2"],i=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2,1],o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return/(^\d{15}$)|(^\d{17}(\d|X)$)/i.test(t)},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:19;return/^\d{15}$/.test(t)?""+t.substr(0,6)+e+t.substr(6,t.length-6):null},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t&&/^(11|12|13|14|15|21|22|23|31|32|33|34|35|36|37|41|42|43|44|45|46|50|51|52|53|54|61|62|63|64|65|71|81|82)/.test(t)},a=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").match(/^(\d{6})(\d{4})(\d{2})(\d{2})(\d{3})([0-9]|X)$/);if(null===t)return!1;var e=(new Date).getFullYear()-new Date(t[2]+"/"+t[3]+"/"+t[4]).getFullYear();return e>=0&&e<=130},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments[1],n=u(t,e);return null===n?null:""+n+s(n)},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=/^\d{15}$/.test(t)?u(t).match(/(^\d{17})/):t.match(/(^\d{17})/);if(null===e)return null;var n=e[1].split("").reduce(function(t,e,n){return t+e*i[n]},0);return r[n%11]},f=function(){function t(n){if(e(this,t),!o(n))return console.error("id card format is error!"),!1;this.id=15===n.length?c(n):n,this.isVerified=l(n)&&a(this.id)&&s(this.id)===this.id.substr(17,1)}return n(t,[{key:"getMasterCode",value:function(){return this.isVerified?this.id.substr(0,17).toString():null}},{key:"getCheckCode",value:function(){return this.isVerified?this.id.substr(17,1).toString():null}}]),t}();t.tranformEighteen=c,t.getCheckCode=s,t.default=function(t){return new f(t)},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=index.amd.min.js.map
